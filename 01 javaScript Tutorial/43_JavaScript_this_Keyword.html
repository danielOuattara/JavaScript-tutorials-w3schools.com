<!-----------------------------------------
Daniel OUATTARA- daniel.ouattara_AT_gmx.com
20 03 2020
JavaScript Tutorial :
https://www.w3schools.com/js/
------------------------------------------->
<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>JavaScript 'this' Keyword </title>
    </head>
    <body>
        <h1>JavaScript 'this' Keyword</h1>

        <p id='demo1'></p>

        <script>
            var person = {
                firstName: "John",
                lastName: "Doe"
            };
            </script>


<!-- What is this?
===================

The JavaScript 'this' keyword refers to the object it belongs to.

It has different values depending on where it is used:

    > In a method, 'this' refers to the 'owner object'.
    > Alone, 'this' refers to the 'global object'.
    > In a function, 'this' refers to the 'global object'.
    > In a function, in strict mode, 'this' is 'undefined'.
    > In an event, 'this' refers to the 'element' that received the event.
    > Methods like 'call()', and 'apply()' can refer 'this' to 'any object'. -->


<!-- this in a Method
=====================

In an 'object method', 'this' refers to the "owner" of the method.    -->

            <script>
                person.fullName = function(){
                    return this.firstName + " " + this.lastName;
                }
                document.getElementById('demo1').innerHTML = person.fullName();
                    // John Doe

                // In this example, this represents the person object.
            </script>


<!-- this Alone
================

When used alone, the 'owner' is the Global object, so this refers to
the Global object. In a browser window the Global object is [object Window]: -->
            <p id='demo2'></p>
            <script>
                var x = this;
                document.getElementById('demo2').innerHTML = x;  // [object Window]

                //  In this example, this refers to the window Object:
            </script>

<!-- In strict mode, when used alone, this also refers to
the Global object [object Window]: -->

            <p id='demo3'></p>
            <script>
                "use strict";
                var y = this;
                document.getElementById('demo3').innerHTML = y;  // [object window]

                // In this example, this refers to the window Object:
            </script>

<!-- this in a Function (Default)
=================================

In a JavaScript function, the owner of the function is the default binding
for this. So, in a function, this refers to the Global object [object Window].-->
            <p id='demo4'></p>
            <script>
                function myFunction() {
                    return this;
                }
                document.getElementById('demo4').innerHTML = myFunction();
                    //  [object window]

                // In this example, this represents the object that "owns"
                // myFunction:
            </script>

<!-- this in a Function (Strict)
=================================

JavaScript 'strict mode' does not allow default binding.

So, when used in a function, in strict mode, 'this' is 'undefined'. -->
            <p id='demo5'></p>
            <script>
                "use strict";
                function myFunction() {
                    return this;
                }
            document.getElementById('demo5').innerHTML = myFunction();
                // undefined

            // In a function, by default, this refers to the Global object.
            // In strict mode, this is undefined, because strict mode does not
            //  allow default binding:

            </script>


<!-- this in Event Handlers
===========================

In HTML event handlers, this refers to the HTML element that received
the event: -->

            <p id='demo6'></p>
            <button onclick="this.style.display= 'none'">
                Click to make me deseapper</button>

<!-- Object Method Binding
==========================

In these examples, this is the person object
(The person object is the "owner" of the function): -->

            <p id='demo7'></p>
            <script>

                var person = {
                    firstName : 'John',
                    lastName : 'Doe',
                    myFunction : function() {
                        return this;
                    }
                };

                document.getElementById('demo7').innerHTML =
                    person.myFunction();  // [object Object]

                // In this example, this represents the person object that
                // "owns" the fullName method.
            </script>


            <p id='demo8'></p>
            <script>
                var person = {
                firstName: "John",
                lastName : "Doe",
                id       : 5566,
                fullName : function() {
                    return this.firstName + " " + this.lastName;
                  }
                };
                document.getElementById('demo8').innerHTML =
                    person.fullName();  // John Doe

                // In this example, this represents the person object.
                // The person object "owns" the fullName method.
            </script>


<!-- Explicit Function Binding
==============================

The call() and apply() methods are predefined JavaScript methods.
They can both be used to call an object method with another object as argument -->

            <p id='demo9'></p>
            <script>
                var person1 = {
                    fullName: function() {
                        return this.firstName + " " + this.lastName;
                    }
                };

            var person2 = {
              firstName:"John",
              lastName: "Doe",
            }
            person1.fullName.call(person2);  // Will return "John Doe"

            // In this example this refers to person2, even if it is
            // a method of person1:

            </script>

    </body>
</html>

<!-----------------------------------------
Daniel OUATTARA- daniel.ouattara_AT_gmx.com
27 06 2020
JavaScript Tutorial :
https://www.w3schools.com/js/
------------------------------------------->

<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8" />
  <title>JSON HTML</title>
</head>

<body>
  <h1>JSON HTML.</h1><hr/>


<!-- JSON can very easily be translated into JavaScript.

JavaScript can be used to make HTML in your web pages.
HTML Table

Make an HTML table with data received as JSON:                             -->


    <script>
      var obj, dbParam, xmlhttp, myObj, x;
      var  txt = "";
      obj = { table: "customers", limit: 20 };
      dbParam = JSON.stringify(obj);
      xmlhttp = new XMLHttpRequest();
      xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
          myObj = JSON.parse(this.responseText);
          txt += "<table border='1'>"
          for (x in myObj) {
            txt += "<tr><td>" + myObj[x].name + "</td></tr>";
          }
          txt += "</table>"
          document.getElementById("demo1").innerHTML = txt;
        }
      };

       xmlhttp.open("POST", "json_demo_html_table.php", true);
       xmlhttp.setRequestHeader("Content-type", "application/x-www-form_urlencoded");
       xmlhttp.send("x=" + dbParam);


       /* ouptut
       Make a table based on JSON data.
       ----------------------------------
       Alfreds Futterkiste
       Ana Trujillo Emparedados y helados
       Antonio Moreno Taqueria
       Around the Horn
       Berglunds snabbkop
       Blauer See Delikatessen
       Blondel pere et fils
       Bolido Comidas preparadas
       Bon app'
       Bottom-Dollar Marketse
       B's Beverages
       Cactus Comidas para llevar
       Centro comercial Moctezuma
       Chop-suey Chinese
       Comercio Mineiro
       Consolidated Holdings
       Drachenblut Delikatessend
       Du monde entier
       Eastern Connection
       Ernst Handel
       */
    </script>


<!-- Dynamic HTML Table
========================

Make the HTML table based on the value of a drop down menu:  -->


      <select id="myselect" onchange= "change_myseleecgt(this.value)">
        <option value="">Choose an option:</option>
        <option value="customers">Customers</option>
        <option value="products">Products</option>
        <option value="suppliers">Suppliers</option>
      </select>

      <p id="demo2"></p>

      <script>
        function change_myselect(sel) {
          var obj, dbParam, xmlhttp, myObj, x;
          var txt ="";
          obj ={table: sel, limit:20};
          dbParam = JSON.stringify(obj);
          xmlhttp = new XMLHttpRequest();
          xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 &&  this.status == 200) {
              myObj = JSON.parse(this.responseText);
              txt += "<table border='1'>"
                for (x in myObj) {
                  txt += "<tr><td>" + myObj[x].nale + "</td></tr>";
                }
                txt += "</table>"
                document.getElementById("demo2").innerHTML = txt;
              }
            };
            xmlhttp.open("POST", "json_demo_html_table.php", true);
            xmlhttp.setRequestHeader("Conten-type", "application/x-www-form-urlencoded");
            xmlhttp.send("x=" + dbParam);
        }

      </script>


<!-- HTML Drop Down List
========================

Make an HTML drop down list with data received as JSON: -->

        <p id="demo3"></p>

        <script>
        var obj, dbParam, xmlhttp, myObj, x;
        var txt = "";
        obj = { table: "customers", limit: 20 };
        dbParam = JSON.stringify(obj);
        xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
         myObj = JSON.parse(this.responseText);
         txt += "<select>"
         for (x in myObj) {
           txt += "<option>" + myObj[x].name;
         }
         txt += "</select>"
         document.getElementById("demo").innerHTML = txt;
        }
        };
        xmlhttp.open("POST", "json_demo_html_table.php", true);
        xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        xmlhttp.send("x=" + dbParam);
        </script>












</body>
</html>
